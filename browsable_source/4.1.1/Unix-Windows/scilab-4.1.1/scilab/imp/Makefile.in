SHELL = /bin/sh

SCIDIR=..
include ../Makefile.incl

# just add -DEPSFIG 
# il you prefer epsfig to special to insert postscript files in LaTeX 

CFLAGS = $(CC_OPTIONS)
PREF=@IMPPREF@
ENV=@IMPENV@

all:: $(SCIDIR)/bin/$(PREF)lpr $(SCIDIR)/bin/$(PREF)latexprs $(SCIDIR)/bin/$(PREF)latexpr2 \
	$(SCIDIR)/util/$(PREF)latdocs $(SCIDIR)/bin/$(PREF)Epsf $(SCIDIR)/bin/$(PREF)latexpr \
	 $(SCIDIR)/util/$(PREF)latdoc

$(SCIDIR)/bin/$(PREF)lpr: Slpr.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ Slpr.o util.o $(ENV) $(CC_LDFLAGS)
clean::
	$(RM) Slpr.o util.o $(ENV)
distclean::
	$(RM) Slpr.o util.o $(ENV) $(SCIDIR)/bin/$(PREF)lpr

$(SCIDIR)/bin/$(PREF)Epsf: SEpsf.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ SEpsf.o util.o $(ENV) $(CC_LDFLAGS)
clean::
	$(RM) SEpsf.o util.o
distclean::
	$(RM) SEpsf.o util.o $(SCIDIR)/bin/$(PREF)Epsf

$(SCIDIR)/bin/$(PREF)latexpr: Slatexpr.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ Slatexpr.o util.o $(ENV) $(CC_LDFLAGS)
clean::
	$(RM) Slatexpr.o util.o
distclean::
	$(RM) Slatexpr.o util.o $(SCIDIR)/bin/$(PREF)latexpr

$(SCIDIR)/bin/$(PREF)latexprs: Slatexprs.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ Slatexprs.o util.o $(ENV) $(CC_LDFLAGS)
clean::
	$(RM) Slatexprs.o util.o
distclean::
	$(RM) Slatexprs.o util.o $(SCIDIR)/bin/$(PREF)latexprs

$(SCIDIR)/bin/$(PREF)latexpr2: Slatexpr2.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ Slatexpr2.o util.o $(ENV) $(CC_LDFLAGS)
clean::
	$(RM) Slatexpr2.o util.o
distclean::
	$(RM) Slatexpr2.o util.o $(SCIDIR)/bin/$(PREF)latexpr2

$(SCIDIR)/util/$(PREF)latdocs: Slatdocs.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ Slatdocs.o util.o $(ENV)  $(CC_LDFLAGS)

clean::
	$(RM) Slatdocs.o util.o
distclean::
	$(RM) Slatdocs.o util.o $(SCIDIR)/util/$(PREF)latdocs

$(SCIDIR)/util/$(PREF)latdoc: Slatdoc.o util.o $(ENV)
	$(RM) $@
	$(CC) -o $@ Slatdoc.o util.o $(ENV)  $(CC_LDFLAGS)


clean::
	$(RM) Slatdoc.o util.o
distclean::
	$(RM) Slatdoc.o util.o $(SCIDIR)/util/$(PREF)latdoc



// Non-regression test file for bug 883
// Copyright INRIA
// Scilab Project - Pierre MARECHAL
// Date : 3 mai 2005

clear;
mode(-1)

SCIFILE=TMPDIR+"/bug883.dia";

diary(SCIFILE);
a=%pi/100;
b=2*%pi/a;
for i=1:50, format(i), disp(b), end;
diary(0);

SCIFILECONTENTS=mgetl(SCIFILE);

REFCONTENTS=[" ";
		"   **  ";
		" ";
		"   **  ";
		" ";
		"   ***  ";
		" ";
		"   200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    200.  ";
		" ";
		"    199.99999999999997  ";
		" ";
		"    199.999999999999972  ";
		" ";
		"    199.9999999999999716  ";
		" ";
		"    199.99999999999997158  ";
		" ";
		"    199.999999999999971578  ";
		" ";
		"    199.9999999999999715783  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  ";
		" ";
		"    199.99999999999997157829  "]
		
correct=%T

if or(REFCONTENTS<>SCIFILECONTENTS) then
  correct=%F
end

affich_result(correct,883);

clear
 
getf SCI/util/testexamples.sci
 
reinit_for_test()
 
%U=mopen('SCI/tests/graphical_tests/figure_properties_data.ref','rb');
 
%ans = lines(0);
 
if load_ref('%ans') then   bugmes();quit;end,
 
// disables vertical paging
 
//Example 1
 
%ans = set('figure_style', 'new');
 
if load_ref('%ans') then   bugmes();quit;end,
 
//create a figure and set the figure as the current selected one
 
f = get('current_figure');
 
if load_ref('f') then   bugmes();quit;end,
 
//get the handle of the current figure :
 
//if none exists, create a figure and return the corresponding handle
 
%ans = f('figure_position');
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
f('figure_size') = [200,200];
 
if load_ref('f') then   bugmes();quit;end,
 
 
f('background') = 2;
 
if load_ref('f') then   bugmes();quit;end,
 
 
%ans = f('children');
 
if load_ref('%ans') then   bugmes();quit;end,
 
// man can see that an Axes entity already exists
 
delete(f);
 
f = gcf();// macro shortcut <=> f=get("current_figure")
 
f('pixmap') = 'on';
 
if load_ref('f') then   bugmes();quit;end,
 
// set pixmap status to on
 
%ans = plot2d();
Demo of plot2d
x=(0:0.1:2*%pi)';plot2d(x,[sin(x),sin(2*x),sin(3*x)],style=[-1,-2,3],rect=[0,-2,2*%pi,2]);
 
if load_ref('%ans') then   bugmes();quit;end,
 
// nothing happens on the screen...
 
%ans = show_pixmap();
 
if load_ref('%ans') then   bugmes();quit;end,
 
//0...display the pixmap on screen
 
//Example 2 : default_figure settings
 
df = get('default_figure');
 
if load_ref('df') then   bugmes();quit;end,
 
// get the default values (shortcut is gdf() )
 
// Let's change the defaults...
 
df('color_map') = hotcolormap(128);
 
if load_ref('df') then   bugmes();quit;end,
 
 
df('background') = 110;
 
if load_ref('df') then   bugmes();quit;end,
 
// set background toa kind of yellow (Note that we are using a color index inside the color_map previously redefined)
 
scf(122);// creates new figure number 122 with the new default
 
%ans = plot2d();
Demo of plot2d
x=(0:0.1:2*%pi)';plot2d(x,[sin(x),sin(2*x),sin(3*x)],style=[-1,-2,3],rect=[0,-2,2*%pi,2]);
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
scf(214);
 
t = -%pi:0.3:%pi;
 
plot3d(t, t, sin(t)' * cos(t), 35, 45, 'X@Y@Z', [15,2,4]);
 
xdel_run(winsid());
 
 
mclose(%U);
 

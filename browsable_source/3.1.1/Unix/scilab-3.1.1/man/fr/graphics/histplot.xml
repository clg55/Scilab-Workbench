<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MAN SYSTEM "../../manrev.dtd">
<MAN>
  <LANGUAGE>fr</LANGUAGE>

  <TITLE>histplot</TITLE>

  <TYPE>Fonction Scilab</TYPE>

  <DATE>Avril 1993, révisée en 2005</DATE>

  <SHORT_DESCRIPTION name="histplot">dessine un histogramme</SHORT_DESCRIPTION>

  <CALLING_SEQUENCE>
    <CALLING_SEQUENCE_ITEM>histplot(n, data, &lt;opt_args&gt;)</CALLING_SEQUENCE_ITEM>
    <CALLING_SEQUENCE_ITEM>histplot(x, data, &lt;opt_args&gt;)</CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>

  <PARAM>
    <PARAM_INDENT>
      <PARAM_ITEM>
        <PARAM_NAME>n</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: entier strictement positif (nombre de classes)</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>

      <PARAM_ITEM>
        <PARAM_NAME>x</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: vecteur (strictement croissant) definissant les classes</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>

      <PARAM_ITEM>
        <PARAM_NAME>data</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: vecteur (contenant les données à analyser)</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>

      <PARAM_ITEM>
        <PARAM_NAME>&lt;opt_args&gt;</PARAM_NAME>

        <PARAM_DESCRIPTION>
          <SP>: Représente une séquence de la forme <VERB>clé1=valeur1,
          clé2=valeur2</VERB>,... où <VERB>clé1</VERB>,
          <VERB>clé2,...</VERB> peut être n'importe quel paramètre optionnel de <LINK>plot2d</LINK> 
          (<TT>style,strf,leg, rect,nax, logflag,frameflag, axesflag</TT>) ou encore <TT>normalization</TT>. 
          Pour ce dernier la valeur correspondante est un scalaire booléen 
          (la valeur par défaut étant %t).</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
    </PARAM_INDENT>
  </PARAM>

  <DESCRIPTION>
    <P> Cette fonction dessine un histogramme des données contenues dans le vecteur <VERB>data</VERB>
        en utilisant les classes <VERB>x</VERB>. Quand le nombre de classes <VERB>n</VERB> est fourni
        au lieu de <VERB>x</VERB>, celles-ci sont définies de manière équirépartie et telles que
        <EM>x(1) = min(data) &lt;  x(2) = x(1) + dx  &lt;  ...  &lt; x(n+1) = max(data)</EM>
        avec <EM>dx = (x(n+1)-x(1))/n</EM>.
    </P>

    <P> Les classes sont définies par C1 = [x(1), x(2)] puis  Ci = ] x(i), x(i+1)] pour i = 2,3,...,n.
        En notant Nmax le nombre total de données (Nmax = length(data)) et Ni le nombre de données 
        se situant dans Ci, la valeur de l'histogramme pour x appartenant à Ci 
        est égale à <EM>Ni/(Nmax (x(i+1)-x(i)))</EM> quand <VERB>normalization</VERB> est vrai
        (comportement par défaut) et sinon elle vaut simplement <EM>Ni</EM>. Quand l'histogramme
        est normalisé il vérifie la propriété suivante :
    </P> 
    <VERBATIM>
<![CDATA[            x(n+1)
           /  
           |   h(x) dx = 1,  quand x(1)<=min(data) et max(data) <= x(n+1)) 
           /
           x(1)
     ]]>
    </VERBATIM>

    <P>N'importe quel paramètre optionnel de <LINK>plot2d</LINK> peut être passé à histplot ; par exemple
       pour dessiner votre histogramme avec la couleur numéro 2 (du bleu si vous utilisez la carte
       des couleurs standard) tout en restreignant le dessin au le rectangle [-3,3]x[0,0.5],
       vous pouvez utiliser <TT>histplot(n,data, style=2, rect=[-3,0,3,0.5])</TT>.
    </P> 

    <P>La commande <VERB>histplot()</VERB> sans argument montre un example.</P>

  </DESCRIPTION>

  <EXAMPLE><![CDATA[
// exemple #1: variations sur l'histogramme d'un échantillon gaussien N(0,1)
d=rand(1,10000,'normal');
clf();histplot(20,d)
clf();histplot(20,d,normalization=%f)
clf();histplot(20,d,leg='rand(1,10000,''normal'')',style=5)
clf();histplot(20,d,leg='rand(1,10000,''normal'')',style=16, rect=[-3,0,3,0.5]); 

// exemple #2: histogramme d'un échantillon de loi binomiale B(6,0.5)
d = grand(1000,1,"bin", 6, 0.5);
c = linspace(-0.5,6.5,8);
xbasc()
subplot(2,1,1)
   histplot(c, d, style=2)
   xtitle("l''histogramme normalisé")
subplot(2,1,2)
   histplot(c, d, normalization=%f, style=5)
   xtitle("l''histogramme non normalisé")

// exemple #3: histogramme d'un échantillon de loi exponentielle E(lambda)
lambda = 2;
X = grand(100000,1,"exp", 1/lambda);
Xmax = max(X);
xbasc()
histplot(40, X, style=2)
x = linspace(0,max(Xmax),100)';
plot2d(x,lambda*exp(-lambda*x),strf="000",style=5)
legend(["histogramme d''un échantillon E(lambda)" "densité exacte"]);
// Rmq: si vous utilisez l'ancien mode graphique, la légende peut s'obtenir avec :
// legends(["histogramme d''un échantillon E(lambda)" "densité exacte"],[2 5],"ur");
  ]]></EXAMPLE>

  <SEE_ALSO>
    <SEE_ALSO_ITEM>
      <LINK>hist3d</LINK>
    </SEE_ALSO_ITEM>

    <SEE_ALSO_ITEM>
      <LINK>plot2d</LINK>
    </SEE_ALSO_ITEM>

    <SEE_ALSO_ITEM>
      <LINK>dsearch</LINK>
    </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>

<html>
  <body bgcolor="FFFFFF">
    <CENTER>Scicos data structure  </CENTER>
    <P></P>
    <H3>NAME </H3>
    <p>
      <ul>scicos_cpr -  Scicos compiled diagram data structure  </ul>
    </p>
    <H3>CALLING SEQUENCE</H3>
    <dl>
      <dd>cpr=list(state,sim,cor,corinv)  </dd>
    </dl>
    <H3>PARAMETERS</H3>
    <ul>
      <ul>
  <li>
          <tt>
            <b>state  </b>
          </tt>
    : Scilab <tt>
            <b>tlist</b>
          </tt> contains  initial state. 
  </li>
 <ul>
  <li>
            <tt>
              <b>state('x')  </b>
            </tt>
    : continuous  state vector. 
  </li>
  <li>
            <tt>
              <b>state('z')  </b>
            </tt>
    : discrete  state vector. 
  </li>
  <li>
            <tt>
              <b>state('tevts')  </b>
            </tt>
    : vector of  event dates
  </li>
  <li>
            <tt>
              <b>state('evtspt')  </b>
            </tt>
    : vector of event pointers
  </li>
  <li>
            <tt>
              <b>state('pointi')  </b>
            </tt>
    : pointer to next event state('npoint') : not used yet state('outtb') : vector of inputs/outputs initial values.
  </li>
 </ul>
  <li>
          <tt>
            <b>sim  </b>
          </tt>
    : Scilab <tt>
            <b>tlist</b>
          </tt>.  Usually generated by Scicos <tt>
            <b>Compile</b>
          </tt> menu. Some useful entries are:
  </li>
 <ul>
  <li>
            <tt>
              <b>sim('rpar')  </b>
            </tt>
    : vector of blocks' floating point parameters
  </li>
  <li>
            <tt>
              <b>sim('rpptr')  </b>
            </tt>
    : (nblk+1) x 1 vector of integers,    <tt>
              <b>sim('rpar')(rpptr(i):(rpptr(i+1)-1))</b>
            </tt> is the vector of floating point parameters of the <tt>
              <b>i</b>
            </tt>th block. 
  </li>
  <li>
            <tt>
              <b>sim('ipar')  </b>
            </tt>
    : vector of blocks' integer parameters
  </li>
  <li>
            <tt>
              <b>sim('ipptr')  </b>
            </tt>
    : (nblk+1) x 1 vector of integers,    <tt>
              <b>sim('ipar')(ipptr(i):(ipptr(i+1)-1))</b>
            </tt> is the vector of integer parameters of the <tt>
              <b>i</b>
            </tt>th block. 
  </li>
  <li>
            <tt>
              <b>sim('funs')  </b>
            </tt>
    : vector of strings containing the names of each block simulation function
  </li>
  <li>
            <tt>
              <b>sim('xptr')  </b>
            </tt>
    : (nblk+1) x 1 vector of integers,    <tt>
              <b>state('x')(xptr(i):(xptr(i+1)-1))</b>
            </tt> is the continuous state vector  of the <tt>
              <b>i</b>
            </tt>th block. 
  </li>
  <li>
            <tt>
              <b>sim('zptr')  </b>
            </tt>
    : (nblk+1) x 1 vector of integers,    <tt>
              <b>state('z')(zptr(i):(zptr(i+1)-1))</b>
            </tt> is the discrete state vector  of the <tt>
              <b>i</b>
            </tt>th block. 
  </li>
  <li>
            <tt>
              <b>sim('inpptr')  </b>
            </tt>
    : (nblk+1) x 1 vector of integers,   <tt>
              <b>inpptr(i+1)-inpptr(i)</b>
            </tt> gives the number of input ports. <tt>
              <b>inpptr(i)</b>
            </tt>th points to the beginning of <tt>
              <b>i</b>
            </tt>th block inputs  within the indirection table <tt>
              <b>inplnk</b>
            </tt>.
  </li>
  <li>
            <tt>
              <b>sim('inplnk')  </b>
            </tt>
    : nblink x 1 vector of integers,   <tt>
              <b>inplnk(inpptr(i)-1+j)</b>
            </tt> is the index of the link connected to the  <tt>
              <b>j</b>
            </tt>th input port of the <tt>
              <b>i</b>
            </tt>th block. where <tt>
              <b>j</b>
            </tt> goes from <tt>
              <b>1</b>
            </tt> to <tt>
              <b>inpptr(i+1)-inpptr(i))</b>
            </tt>.
  </li>
  <li>
            <tt>
              <b>sim('outptr')  </b>
            </tt>
    : (nblk+1) x 1 vector of integers,   <tt>
              <b>outptr(i+1)-outptr(i)</b>
            </tt> gives the number of output ports. <tt>
              <b>outptr(i)</b>
            </tt>th points to the beginning of <tt>
              <b>i</b>
            </tt>th block outputs  within the indirection table <tt>
              <b>outlnk</b>
            </tt>.
  </li>
  <li>
            <tt>
              <b>sim('outlnk')  </b>
            </tt>
    : nblink x 1 vector of integers,   <tt>
              <b>outlnk(outptr(i)-1+j)</b>
            </tt> is the index of the link connected to the  <tt>
              <b>j</b>
            </tt>th output port of the <tt>
              <b>i</b>
            </tt>th block. where <tt>
              <b>j</b>
            </tt> goes from <tt>
              <b>1</b>
            </tt> to <tt>
              <b>outptr(i+1)-outptr(i))</b>
            </tt>.
  </li>
  <li>
            <tt>
              <b>sim('lnkptr')  </b>
            </tt>
    : (nblink+1) x 1 vector of integers,   <tt>
              <b>k</b>
            </tt>th  entry points to the beginning of region  within <tt>
              <b>outtb</b>
            </tt> dedicated to link indexed <tt>
              <b>k</b>
            </tt>.
  </li>
  <li>
            <tt>
              <b>sim('funs')  </b>
            </tt>
    : vector of strings containing the names of each block simulation function
  </li>
  <li>
            <tt>
              <b>sim('funtyp')  </b>
            </tt>
    : vector of  block block types.
  </li>
 </ul>
  <li>
          <tt>
            <b>cor  </b>
          </tt>
    : is a list with same recursive structure as scs_m each leaf  contains the index of associated block in <tt>
            <b>cpr</b>
          </tt> data structure.
  </li>
  <li>
          <tt>
            <b>corinv  </b>
          </tt>
    : corinv(i) is the path of <tt>
            <b>i</b>
          </tt> th block defined in <tt>
            <b>cpr</b>
          </tt> data structure           in the <tt>
            <b>scs_m</b>
          </tt> data structure. 
  </li>
 </ul>
    </ul>
    <H3>DESCRIPTION</H3>
    <ul>
  <p>
    Scicos compiled diagram data structure contains all information needed
    to simulate the system (see  <tt>
          <b>scicosim</b>
        </tt>). 
  </p>
  </ul>
    <H3>SEE ALSO</H3>
    <p>
      <ul>
        <a href="scicosim.html">
          <tt>
            <b>scicos</b>
          </tt>
        </a>
        <a href="scicos_model.html">
          <tt>
            <b>scicos_model</b>
          </tt>
        </a>
        <a href="scicos_main.html">
          <tt>
            <b>scicos_main</b>
          </tt>
        </a>
        <a href="scicosim.html">
          <tt>
            <b>scicosim</b>
          </tt>
        </a>
      </ul>
    </p>
  </body>
</html>
 
clear;lines(0);
 
diag([1,2])
 ans  =
 
!   1.    0. !
!   0.    2. !
 
 
A=[1,2;3,4];
 
diag(A)  // main diagonal
 ans  =
 
!   1. !
!   4. !
 
diag(A,1)
 ans  =
 
    2.  
 
 
diag(sparse(1:10))  // sparse diagonal matrix
 ans  =
 
(   10,   10) sparse matrix
 
(    1,    1)        1. 
(    2,    2)        2. 
(    3,    3)        3. 
(    4,    4)        4. 
(    5,    5)        5. 
(    6,    6)        6. 
(    7,    7)        7. 
(    8,    8)        8. 
(    9,    9)        9. 
(   10,   10)        10. 
 
 
// form a tridiagonal matrix of size 2*m+1
 
m=5;diag(-m:m) +  diag(ones(2*m,1),1) +diag(ones(2*m,1),-1)
 ans  =
 
! - 5.    1.    0.    0.    0.    0.    0.    0.    0.    0.    0. !
!   1.  - 4.    1.    0.    0.    0.    0.    0.    0.    0.    0. !
!   0.    1.  - 3.    1.    0.    0.    0.    0.    0.    0.    0. !
!   0.    0.    1.  - 2.    1.    0.    0.    0.    0.    0.    0. !
!   0.    0.    0.    1.  - 1.    1.    0.    0.    0.    0.    0. !
!   0.    0.    0.    0.    1.    0.    1.    0.    0.    0.    0. !
!   0.    0.    0.    0.    0.    1.    1.    1.    0.    0.    0. !
!   0.    0.    0.    0.    0.    0.    1.    2.    1.    0.    0. !
!   0.    0.    0.    0.    0.    0.    0.    1.    3.    1.    0. !
!   0.    0.    0.    0.    0.    0.    0.    0.    1.    4.    1. !
!   0.    0.    0.    0.    0.    0.    0.    0.    0.    1.    5. !
 

 
// Copyright INRIA 2006
 
// Author Jean-Baptiste Silvy
 
// basic test for routine swap_handles
 
 
 
mode( -1 ) ;
clear ;
// first test : swap two brothers
a1 = gca() ;
xrect(0.1,0.1,0.1,0.1);
xx =-3:0.1:3 ;
plot(xx,xx);
swap_handles(a1.children(1), a1.children(2) ) ;
if ( a1.children(1).type <> "Rectangle" ) then bugmes();quit;end
if ( a1.children(2).type <> "Compound"  ) then bugmes();quit;end
// second test : swap two objects from different figure
scf() ;
a2 = gca() ;
xarc( 0.5,0.5,0.5,0.5,0,64 * 360 ) ;
e = gce() ;
swap_handles( e, a1.children(1) ) ;
if ( a1.children(1).type <> "Arc" ) then bugmes();quit;end
if ( a2.children(1).type <> "Rectangle" ) then bugmes();quit;end
// third test : swap two objects from different figure
xdel( winsid() ) ;
plot3d ;

Demo of plot3d()
========================================
t=-%pi:0.3:%pi;plot3d(t,t,sin(t)'*cos(t),35,45,'X@Y@Z',[2,2,4]);

a1 = gca() ;
e1 = gce() ;
scf() ;
plot2d ;

Demo of plot2d()
========================================
x=(0:0.1:2*%pi)';plot2d(x,[sin(x),sin(2*x),sin(3*x)],style=[-1,-2,3],rect=[0,-2,2*%pi,2]);

e2 = gce() ;
a2 = gca() ;
swap_handles( e1, e2 ) ;
if ( e1.parent <> a2 ) then bugmes();quit;end
if ( e2.parent <> a1 ) then bugmes();quit;end
// fourth test : swap two handles from two different figures
xdel( winsid() ) ;
plot3d ;

Demo of plot3d()
========================================
t=-%pi:0.3:%pi;plot3d(t,t,sin(t)'*cos(t),35,45,'X@Y@Z',[2,2,4]);

f1 = gcf() ;
a1 = gca() ;
scf() ;
plot2d ;

Demo of plot2d()
========================================
x=(0:0.1:2*%pi)';plot2d(x,[sin(x),sin(2*x),sin(3*x)],style=[-1,-2,3],rect=[0,-2,2*%pi,2]);

f2 = gcf() ;
a2 = gca() ;
swap_handles( a1, a2 ) ;
if ( a1.parent <> f2 ) then bugmes();quit;end
if ( a2.parent <> f1 ) then bugmes();quit;end
xdel( winsid() ) ;
clear ;

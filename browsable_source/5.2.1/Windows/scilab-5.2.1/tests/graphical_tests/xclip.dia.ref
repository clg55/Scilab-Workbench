 
getf SCI/util/testexamples.sci
 
reinit_for_test()
 
%U=mopen('SCI/tests/graphical_tests/xclip_data.ref','rb');
 
x = 0:0.2:2 * %pi;
 
x1 = [sin(x);100 * sin(x)];
 
y1 = [cos(x);100 * cos(x)];
 
y1 = y1 + 20 * ones(y1);
 
 
// set the frame
 
clf_run();a = gca();a('data_bounds') = [-100,-100;500,600];
 
 
// No clipping
 
%ans = xsegs(10 * x1 + 200 * ones(x1), 10 * y1 + 200 * ones(y1));
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
e = gce();//handle on the Segs entity
 
 
// draw rectangle clipping zone
 
%ans = xrect(150, 460, 100, 150);
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
// set clip_box for  Segs entity
 
e('clip_box') = [150,460,100,150];
 
 
// Set usual rectangle boundaries clipping zone
 
e('clip_state') = 'clipgrf';
 
%ans = xclip('clipgrf');
 
if load_ref('%ans') then   bugmes();quit;end,
 
 
// remove clipping
 
e('clip_state') = 'off';
 
xdel_run(winsid());
 
 
mclose(%U);
 

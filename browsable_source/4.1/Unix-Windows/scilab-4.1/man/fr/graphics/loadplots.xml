<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE MAN SYSTEM "../../manrev.dtd">
<MAN>
  <LANGUAGE>eng</LANGUAGE>

  <TITLE>loadplots</TITLE>

  <TYPE>Scilab Function</TYPE>

  <DATE>2001</DATE>

  <SHORT_DESCRIPTION name="loadplots">loads and formats saved old style
  plots</SHORT_DESCRIPTION>

  <CALLING_SEQUENCE>
    <CALLING_SEQUENCE_ITEM>rec=loadplots(fil)</CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>

  <PARAM>
    <PARAM_INDENT>
      <PARAM_ITEM>
        <PARAM_NAME>fil</PARAM_NAME>

        <PARAM_DESCRIPTION>
          <SP>: character string giving the path of the binary file containing
          the save of a graphic (old style)</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>

      <PARAM_ITEM>
        <PARAM_NAME>rec</PARAM_NAME>

        <PARAM_DESCRIPTION>
          <SP>: A data structure (see Description below)</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
    </PARAM_INDENT>
  </PARAM>

  <DESCRIPTION>
    <P>Given a file generated by <VERB>xsave</VERB> of by the save menu in
    graphic window this function returns a data structure containing the
    context and plot definition.</P>

    <P><VERB>rec</VERB> is a typed list with type <VERB>"SPLOT"</VERB>. Each
    of its <VERB>2:$</VERB> fields contains a graphic instruction definition
    and its parameters. <VERB>rec(i)(1)</VERB> gives the fields names of the
    <VERB>i</VERB> th graphic instruction</P>

    <P><VERB>txt=string(rec)</VERB> generates the Scilab instructions which
    reproduce the plot. To make the necessary functions known, load the
    <VERB>loadplots</VERB> function first. This can be done with the
    instruction</P>

    <VERBATIM>loadplots;</VERBATIM>

    <P><BD>Warning</BD>: The <VERB>loadplots</VERB> function is currently
      available with the graphic files saved under the old graphic mode.</P>
  </DESCRIPTION>

  <EXAMPLE><![CDATA[

set old_style on // switch to old graphic mode
driver('Rec');xbasc();plot2d([0 1.5 4]) //make a plot
xsave(TMPDIR+'/foo.scg') //save it in a binary file

rec=loadplots(TMPDIR+'/foo.scg'); //get the associated data structure
//here rec($) is the data structure associated with the plot2d instruction
rec($).x //the x vector
rec($).y //the y vector

string(rec) //the scilab instructions producing the same plot

mputl(string(rec),TMPDIR+'/foo.sce') //creates a script file
xbasc();exec(TMPDIR+'/foo.sce',-1) //execute it to re-create the plot

xbasc();
set old_style off  // switch nack to new graphic mode
 
  ]]></EXAMPLE>

  <SEE_ALSO>
    <SEE_ALSO_ITEM>
      <LINK>xsave</LINK>
    </SEE_ALSO_ITEM>

    <SEE_ALSO_ITEM>
      <LINK>xload</LINK>
    </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>

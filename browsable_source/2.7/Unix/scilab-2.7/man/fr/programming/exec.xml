<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?> 
<!DOCTYPE MAN SYSTEM "../../man.dtd">
<MAN>
  <LANGUAGE>fr</LANGUAGE>
  <TITLE>exec  </TITLE>
  <TYPE>Scilab Function  </TYPE>
  <DATE>April 1993  </DATE>
  <SHORT_DESCRIPTION name="exec"> exécution d&apos;un script (fichier de commandes)  </SHORT_DESCRIPTION>
  <CALLING_SEQUENCE>
  <CALLING_SEQUENCE_ITEM>exec(path [,mode])  </CALLING_SEQUENCE_ITEM>
  <CALLING_SEQUENCE_ITEM>exec(fun [,mode])  </CALLING_SEQUENCE_ITEM>
  <CALLING_SEQUENCE_ITEM>ierr=exec(path,&apos;errcatch&apos; [,mode])  </CALLING_SEQUENCE_ITEM>
  <CALLING_SEQUENCE_ITEM>ierr=exec(fun,&apos;errcatch&apos; [,mode])  </CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>
  <PARAM>
 <PARAM_INDENT>
  <PARAM_ITEM>
  <PARAM_NAME>path  </PARAM_NAME>
  <PARAM_DESCRIPTION>
    : chaîne de caractères, le chemin du script à exécuter
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
  <PARAM_ITEM>
  <PARAM_NAME>mode  </PARAM_NAME>
  <PARAM_DESCRIPTION>
    : entier, précisant le mode d&apos;exécution (voir plus bas)
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
  <PARAM_ITEM>
  <PARAM_NAME>fun  </PARAM_NAME>
  <PARAM_DESCRIPTION>
    : identificateur d&apos;une fonction scilab
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
  <PARAM_ITEM>
  <PARAM_NAME>ierr  </PARAM_NAME>
  <PARAM_DESCRIPTION>
    : entier, 0 ou numéro d&apos;erreur 
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
 </PARAM_INDENT>
  </PARAM>
  <DESCRIPTION>
  <P>
    <VERB>exec(path [,mode])</VERB> exécute séquentiellement les instructions Scilab contenues dans le fichier spécifié par <VERB>path</VERB> avec le mode d&apos;exécution optionnel <VERB>mode</VERB> .
  </P>
  <P>
  </P>
  <P>
    Les différentes valeurs de <VERB>mode</VERB> sont :
  </P>
 
  <P>
     0 
    : valeur par défaut
  </P>
  <P>
     -1 
    : rien n&apos;est affiché
  </P>
  <P>
     1 
    : chaque ligne de commande est affichée
  </P>
  <P>
     2 
    : l&apos;invite de commande <VERB>--&gt;</VERB> est affiché
  </P>
  <P>
     3 
    : lignes de commandes + invite de commande
  </P>
  <P>
     4 
    : pause dans l&apos;exécution au début de chaque ligne. L&apos;exécution reprend après un appui sur la touche entrée/return. 
  </P>
  <P>
     7 
    : pause + invite + affichage : ce mode est utile pour les démonstrations.
  </P>
  <P>
    <VERB>exec(fun [,mode])</VERB> exécute la fonction <VERB>fun</VERB> comme un script : aucun argument n&apos;est utilisé en entrée ou en sortie, et l&apos;exécution se fait dans l&apos;environnement courant (les variables créées dans la fonction sont conservées après l&apos;exécution). Cette forme est plus efficace, car ainsi les instructions du script peuvent être pré-compilées (voir getf, comp). Cette méthode d&apos;exécution des scripts permet aussi de stocker des scripts comme des fonctions dans des librairies. 
  </P>
  <P>
    Si une erreur se produit pendant l&apos;exécution, si la chaîne de caractères &apos;errcatch&apos; est présente, <VERB>exec</VERB> ne produit pas de message d&apos;erreur, mais stoppe l&apos;exécution du script et renvoie une valeur de <VERB>ierr</VERB> égale au numéro de l&apos;erreur. Si la chaîne &apos;errcatch&apos; n&apos;est pas présente, la gestion habituelle des erreurs est utilisée.
  </P>
 
  </DESCRIPTION>
  <ITEMIZE label='REMARQUE'>
  <P>
    Les scripts peuvent maintenant contenir des définitions de fonctions en ligne (voir fonction). 
  </P>
  </ITEMIZE>
  <EXAMPLE><![CDATA[
// création d'un script
write(TMPDIR+'/myscript','a=1;b=2')
// on l'exécute
exec(TMPDIR+'/myscript')
who

// création d'une function
deff('y=foo(x)','a=x+1;y=a^2')
clear a b
// appel à la fonction
foo(1)
// a est une variable créée dans l'environnement de la fonction foo
// elle est détruite à la sortie de la fonction.
who 

x=1 // on crée la variable x pour qu'elle soit connue à l'exécution de foo
exec(foo)
// a et y ont été créées dans l'environnement courant
who
 ]]></EXAMPLE>
  <SEE_ALSO>
    <SEE_ALSO_ITEM> <LINK>getf</LINK> </SEE_ALSO_ITEM>     <SEE_ALSO_ITEM> <LINK>execstr</LINK> </SEE_ALSO_ITEM>     <SEE_ALSO_ITEM> <LINK>evstr</LINK> </SEE_ALSO_ITEM>     <SEE_ALSO_ITEM> <LINK>comp</LINK> </SEE_ALSO_ITEM>     <SEE_ALSO_ITEM> <LINK>mode</LINK> </SEE_ALSO_ITEM>     <SEE_ALSO_ITEM> <LINK>chdir</LINK> </SEE_ALSO_ITEM>     <SEE_ALSO_ITEM> <LINK>getcwd</LINK> </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>
